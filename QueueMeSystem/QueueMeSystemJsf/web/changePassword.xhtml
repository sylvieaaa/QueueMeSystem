<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template/defaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">

        <p:breadCrumb>
            <p:menuitem value="Home" url="mainPage.xhtml" />
            <p:menuitem value="Change Password" url="changePassword.xhtml"/>
        </p:breadCrumb>

        <div class="ui-g-12 ui-md-6 ui-lg-4"></div>
        <div class ="ui-g-12 ui-md-6 ui-lg-4">
            <h:form style="text-align: center">
                <h:panelGrid style="text-align: center; padding-top: 50px">

                    <p:messages id="messages" showDetail="true" autoUpdate="true" />
                    <p:row>
                        <p:column><p:outputLabel for="password" value="Current Password"/></p:column>
                        <p:column>
                            <p:password id="password" value="#{updatePasswordManagedBean.oldPassword}" required="true" requiredMessage="Password is required">
                                <f:validateLength minimum="4" />
                            </p:password>
                        </p:column>
                    </p:row>

                    <br />

                    <p:row>
                        <p:column><p:outputLabel for="new_password" value="New Password"/></p:column>
                        <p:column>
                            <p:password id="new_password" value="#{updatePasswordManagedBean.newPassword}" match="confirm_new_password" required="true" requiredMessage="Password is required" inline="true">
                                <f:validateLength minimum="4" />
                            </p:password>
                        </p:column>
                    </p:row>

                    <br />

                    <p:row>
                        <p:column><p:outputLabel for="confirm_new_password" value="Confirm New Password"/></p:column>
                        <p:column>
                            <p:password id="confirm_new_password" value="#{updatePasswordManagedBean.confirmPassword}" required="true" requiredMessage="Password is required" inline="true">
                                <f:validateLength minimum="4" />
                            </p:password>
                        </p:column>
                    </p:row>

                    <br /><br />

                    <p:row>
                        <p:column><p:commandButton value="Update" actionListener="#{updatePasswordManagedBean.changePassword}" style ="left: 1%"/>&nbsp;&nbsp;</p:column>
                        <p:column><p:commandButton value="Back" onclick="history.back()"/></p:column> 
                    </p:row>

                </h:panelGrid>
            </h:form>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-4"></div>
    </ui:define>
</ui:composition>
